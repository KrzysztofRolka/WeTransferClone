<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:b="http://bootsfaces.net/ui">

<h:head>
	<title>Admin Page</title>
</h:head>

<h:body>

	<b:navBar brand="WeTransferClone"
		brandHref="/WeTransferClone/faces/upload_file.xhtml" fixed="top"
		inverse="true">

		<h:panelGrid columns="3" rendered="#{not empty user}"
			styleClass="navbar-form navbar-right">
			<p style="color: white">Welcome, #{user}</p>
			<h:form>
				<b:commandButton value="Sing Out" action="#{login.logout}"
					look="primary" icon="chevron-left" iconAlign="right" />
			</h:form>
		</h:panelGrid>
	</b:navBar>
	<br />
	<br />
	<br />
	<br />

	<b:container>
		<b:row>
			<b:column medium-screen="8">
				<b:jumbotron>

					<h:form>
						<h3>Properties:</h3>
						<b:label value="Max File Size in MB:" />
						<br />
						<b:inputText value="#{adminController.maxFileSizeInMB}" />
						<br />
						<br />
						<b:label value="File extention:" />
						<br />
						<b:inputText value="#{adminController.extentionName}" />
						<br />
						<br />
						<b:label value="Time to remove in min:" />
						<br />
						<b:inputText value="#{adminController.timeToRemoveInMin}" />
						<br />
						<br />
						<b:label value="Files path:" />
						<br />
						<b:inputText value="#{adminController.pathToFile}" />
						<br />
						<b:commandButton action="#{adminController.writeDataToFile()}"
							value="Save" />
					</h:form>

				</b:jumbotron>
			</b:column>
		</b:row>
	</b:container>

	<b:container>
		<b:row>
			<b:column medium-screen="8">
				<b:jumbotron>

					<h3>List of files:</h3>

					<h:form>
						<b:dataTable value="#{fileController.listOfFIles}" var="row"
							onpage="console.log('page');">
							<b:dataTableColumn value="#{row}"
								label="File Name:" />
							<b:dataTableColumn label="Delete">
								<b:commandLink icon="trash"
									action="#{fileController.delete(row)}" />
							</b:dataTableColumn>
						</b:dataTable>
					</h:form>
				</b:jumbotron>
			</b:column>
		</b:row>
	</b:container>

	<b:container>
		<b:row>
			<b:column medium-screen="8">
				<b:jumbotron>

					<h3>Options:</h3>
					<h:form>
						<b:commandButton action="#{fileController.deleteAfterTime()}"
							value="Delete After Time" />
					</h:form>
					<br/>

					<h:form>
						<b:commandButton action="#{fileController.refresh()}"
							value="Refresh" />
					</h:form>
					<br/>
					
					<h:form>
						<h:commandLink action="/upload_file" value="Back to the menu" />
					</h:form>

				</b:jumbotron>
			</b:column>
		</b:row>
	</b:container>

</h:body>

</html>